
Gantt 라이브러리는 클라이언트와 서버 데이터 모두를 사용할 수 있습니다. 위젯은 백엔드에 대해 특별한 요구사항을 강요하지 않습니다. 어떤 백엔드 플랫폼과도 쉽게 연결할 수 있습니다.

자유롭게 커스텀 서버 스크립트를 만들거나, 기존의 빌트인 백엔드를 사용하고 싶다면 필요한 스크립트를 다음 저장소에서 찾을 수 있습니다: [Go backend](https://github.com/svar-widgets/gantt-backend-go)

### RestDataProvider

서버와의 작업을 자동화하기 위해 미리 만들어진 도우미를 사용할 수 있습니다. 이것이 바로 [**RestDataProvider**](https://docs.svar.dev/react/gantt/helpers/restdataprovider_api) 서비스입니다.

**RestDataProvider** 서비스:

- 다음과 같은 액션을 수신하고, [`send()`](https://docs.svar.dev/react/gantt/helpers/rest_methods/send_method) 메서드를 통해 REST 요청을 보내 백엔드에서 해당하는 데이터 작업을 수행합니다:
    
- **"add-task"**
    
- **"update-task"**
    
- **"delete-task"**
    
- **"링크 추가"**
    
- **"링크 업데이트"**
    
- **"delete-link"**
    
- **"작업 이동"**
    
- **"copy-task"**
    
- 특별한 데이터 로딩 방법을 제공합니다: [`getData()`](https://docs.svar.dev/react/gantt/helpers/rest_methods/getdata_method)는 작업과 링크 데이터를 포함하는 프로미스를 반환합니다
    
- 서버 요청 과도한 요청을 피하기 위한 디바운스 기능을 제공합니다
    

### RestDataProvider를 백엔드에 연결

**RestDataProvider**를 백엔드에 연결하려면 _wx-gantt-data-provider_에서 **RestDataProvider** 컴포넌트를 가져와서 서버 경로를 생성자에 제공하여 인스턴스를 만들어야 합니다. 또한, [`api.setNext()`](https://docs.svar.dev/react/gantt/api/methods/setNext) 메서드를 사용하여 **Event Bus** 순서에 **RestDataProvider**를 추가하여 서버에 해당 요청을 전송해야 합니다. 데이터를 로드하려면 [`getData`](https://docs.svar.dev/react/gantt/helpers/rest_methods/getdata_method) 메서드를 적용하세요.

```tsx
import React, { useEffect, useRef, useState } from 'react';
import { Gantt } from 'wx-react-gantt';
import { RestDataProvider } from 'wx-gantt-data-provider';

const url = "https://some_backend_url";

const server = new RestDataProvider(url);

const MyComponent = () => {
    const [tasks, setTasks] = useState([]);
    const [links, setLinks] = useState([]);
    const apiRef = useRef(null);

    useEffect(() => {
        server.getData().then(data => {
            setTasks(data.tasks);
            setLinks(data.links);
        });
    }, []);

    useEffect(() => {
        if (apiRef.current) {
            apiRef.current.intercept("update-task", data => {
                data.custom = "custom event";
            });
            apiRef.current.setNext(server);
        }
    }, [apiRef.current]);

    return (
        <Gantt
            tasks={tasks}
            links={links}
            apiRef={apiRef}
        />
    );
};

export default MyComponent;
```


### Enabling the batch mode

RestDataProvider는 다수의 API 호출을 하나의 HTTP 요청으로 묶어 전송할 수 있는 **배치** 기능을 지원합니다. 다양한 유형의 요청(예: "PUT"|"POST"|"DELETE")을 하나의 배치 요청으로 전송할 수 있습니다. RestDataProvider는 모든 개별 요청을 하나의 배치 요청으로 결합합니다. [`batchURL`](https://docs.svar.dev/react/gantt/helpers/rest_routes/post_batch)을 참조하세요.  
배치 모드로 전환하려면 생성자에서 다수의 결합된 요청을 전송할 _batchURL_을 정의하세요 (예: `POST https://master--svar-gantt-go-project.io/batch` ).

```tsx
new RestDataProvider(
  "https://master--svar-gantt-go-project.io",
  { batchURL: "batch" }
);
```

아래 예제는 대량 편집이 발생할 경우 작업과 링크의 데이터 업데이트에 배치 모드를 활성화하는 방법을 보여줍니다.

```tsx
import { useEffect, useRef } from "react";
import { RestDataProvider } from "wx-gantt-data-provider";
import { Gantt, ContextMenu } from "wx-react-gantt";
import "wx-react-gantt/dist/gantt.css";

const restProvider = new RestDataProvider(
    "https://master--svar-gantt-go--myproject.io",
    { batchURL: "batch" }
);

function GanttComponent() {
    const apiRef = useRef();
    let tasks, links;

    useEffect(() => {
        restProvider.getData().then(({ tasks: t, links: l }) => {
            tasks = t;
            links = l;
        });
    }, []);

    const init = (api) => {
        apiRef.current = api;
        api.setNext(restProvider);

        api.on("request-data", (ev) => {
            restProvider.getData(ev.id).then(({ tasks, links }) => {
                api.exec("provide-data", {
                    id: ev.id,
                    data: {
                        tasks,
                        links,
                    },
                });
            });
        });
    };

    return (
        <ContextMenu api={apiRef.current}>
            <Gantt apiRef={apiRef} init={init} tasks={tasks} links={links} />
        </ContextMenu>
    );
}

export default GanttComponent;
```

---

**관련 아티클**:

- [api.intercept()](https://docs.svar.dev/react/gantt/api/methods/intercept)
- [api.setNext()](https://docs.svar.dev/react/gantt/api/methods/setNext)
- [getData()](https://docs.svar.dev/react/gantt/helpers/rest_methods/getdata_method)
- [batchURL](https://docs.svar.dev/react/gantt/helpers/rest_routes/post_batch)
- [provide-data](https://docs.svar.dev/react/gantt/api/actions/provide-data)
- [request-data](https://docs.svar.dev/react/gantt/api/actions/request-data)
- [send()](https://docs.svar.dev/react/gantt/helpers/rest_methods/send_method)
- [Gantt API에 접근하는 방법](https://docs.svar.dev/react/gantt/api/how_to_access_api)