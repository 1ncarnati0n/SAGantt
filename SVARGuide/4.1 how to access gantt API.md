# How to access Gantt API

이 문서는 **React Gantt API**에 접근하는 두 가지 방법을 설명합니다.  
전문용어(예: API, handler, hook 등)는 영어 그대로 유지하고, 나머지는 한국어로 번역하였습니다.

---

## 🔹 Gantt API 접근 방법

Gantt API에 접근하기 위해 다음 두 가지 방법 중 하나를 사용할 수 있습니다:

1. **`init` handler function**을 사용하여 `api`를 매개변수로 전달  
2. **`useRef`**를 이용해 `api` property를 바인딩

---

## 1️⃣ Apply the init handler

`init` handler function을 사용하면 Gantt API 객체에 접근할 수 있습니다.  
이 함수는 `api` 객체를 인자로 받으며, Gantt의 상태를 가져오거나 이벤트를 등록하는 데 사용됩니다.

아래 예시는 다음을 보여줍니다:
- `init` function 사용법  
- [`api.on()`](https://docs.svar.dev/react/gantt/api/methods/on)으로 [`zoom-scale`](https://docs.svar.dev/react/gantt/api/actions/zoom-scale) action을 감지  
- [`api.getState()`](https://docs.svar.dev/react/gantt/api/methods/getState)로 현재 zoom level을 가져오기

### 📘 Example

```jsx
import { useEffect, useRef } from "react";
import { getData } from "../data";
import { Gantt } from "wx-react-gantt";
import "wx-react-gantt/dist/gantt.css";

const data = getData();

function App() {
  const apiRef = useRef(null);

  useEffect(() => {
    if (apiRef.current) {
      apiRef.current.on("zoom-scale", () => {
        console.log("The current zoom level is", apiRef.current.getState().zoom);
      });
    }
  }, [apiRef.current]);

  return (
    <>
      <h4>Point over Gantt chart, then hold Ctrl and use mouse wheel to zoom</h4>
      <Gantt init={(api) => (apiRef.current = api)} tasks={data.tasks} links={data.links} zoom />
    </>
  );
}

export default App;
```

이 코드에서 `init` handler는 `api` 객체를 전달받고,  
이를 통해 zoom 이벤트(`zoom-scale`)를 감지하여 현재 확대 비율을 콘솔에 출력합니다.

---

## 2️⃣ Bind to api

Gantt API는 `api` gateway object를 통해 직접 접근할 수도 있습니다.  
이 경우 **`api` property**를 사용하여 API reference를 가져옵니다.

아래 예시에서는 `api` reference를 [`Toolbar`](https://docs.svar.dev/react/gantt/helpers/toolbar_component) 컴포넌트로 전달하는 방법을 보여줍니다.

### 📘 Example

```jsx
import { getData } from "./common/data";
import { Gantt, Toolbar } from "wx-react-gantt";
import "wx-react-gantt/dist/gantt.css";
import { useRef } from "react";

function App() {
  const data = getData();
  const apiRef = useRef();

  return (
    <>
      <Toolbar api={apiRef.current} />
      <Gantt apiRef={apiRef} tasks={data.tasks} />
    </>
  );
}

export default App;
```

이 방법은 React 컴포넌트 간에 API 객체를 공유하거나,  
**Toolbar** 같은 보조 UI 요소에서 Gantt 제어 기능을 확장할 때 유용합니다.

---

## 🔧 Available API Methods

아래는 사용 가능한 Gantt API 메서드 목록입니다:

| Method                                                                                     | 설명                              |
| :----------------------------------------------------------------------------------------- | :------------------------------ |
| [`api.detach()`](https://docs.svar.dev/react/gantt/api/methods/detach)                     | 등록된 handler를 제거(detach)합니다.     |
| [`api.exec()`](https://docs.svar.dev/react/gantt/api/methods/exec)                         | Gantt action을 직접 실행합니다.         |
| [`api.getReactiveState()`](https://docs.svar.dev/react/gantt/api/methods/getReactiveState) | reactive state 객체를 반환합니다.       |
| [`api.getState()`](https://docs.svar.dev/react/gantt/api/methods/getState)                 | 현재 Gantt 상태 객체를 가져옵니다.          |
| [`api.getStores()`](https://docs.svar.dev/react/gantt/api/methods/getStores)               | DataStore 객체를 반환합니다.            |
| [`api.getTask(id)`](https://docs.svar.dev/react/gantt/api/methods/getTask)                 | 특정 Task 설정 객체를 반환합니다.           |
| [`api.intercept()`](https://docs.svar.dev/react/gantt/api/methods/intercept)               | Gantt 동작을 가로채거나 수정할 수 있습니다.     |
| [`api.on()`](https://docs.svar.dev/react/gantt/api/methods/on)                             | 이벤트 리스너를 등록합니다.                 |
| [`api.setNext()`](https://docs.svar.dev/react/gantt/api/methods/setNext)                   | Event Bus 실행 순서에 action을 추가합니다. |

---

## 🔗 Navigation

- **Previous:** [API overview](https://docs.svar.dev/react/gantt/api/overview/api_overview)  
- **Next:** [Gantt methods](https://docs.svar.dev/react/gantt/api/overview/methods_overview)
