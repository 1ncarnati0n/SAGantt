**Configuring the context menu**

info
**ContextMenu** 컴포넌트에 대한 설명은 여기서 보세요: [**ContextMenu helper**](https://docs.svar.dev/react/gantt/helpers/context_menu)

### 기본 컨텍스트 메뉴 추가

기본 메뉴 옵션으로 컨텍스트 메뉴를 추가하려면, "wx-react-gantt"에서 **ContextMenu** 컴포넌트를 가져와 Gantt를 **ContextMenu** 태그로 래핑하세요. 또한, **ContextMenu** 컴포넌트에 [**api**](https://docs.svar.dev/react/gantt/api/how_to_access_api) 객체를 전달해야 합니다.

```tsx
import { useEffect, useRef } from "react";
import { getData } from "../data";
import { Gantt, ContextMenu } from "wx-react-gantt";
import "wx-react-gantt/dist/gantt.css";

const MyComponent = () => {
  const apiRef = useRef();
  const data = getData();

  useEffect(() => {
    apiRef.current = api;
  }, []);

  return (
    <ContextMenu api={apiRef.current}>
      <Gantt
        apiRef={apiRef}
        tasks={data.tasks}
        links={data.links}
        scales={data.scales}
      />
    </ContextMenu>
  );
};

export default MyComponent;
```

### 메뉴 옵션 구성

메뉴 옵션을 커스터마이즈하려면, [**ContextMenu**](https://docs.svar.dev/react/gantt/helpers/context_menu) 컴포넌트를 가져와 옵션 설정을 수정하세요. 서브 아이템을 추가하려면, **options** 항목 객체 내의 **data** 배열 안에 객체를 추가하세요.

예시:

```tsx
import { getData } from "../data";
import { Gantt, ContextMenu } from "wx-react-gantt";
import "wx-react-gantt/dist/gantt.css";
import React, { useRef, useEffect } from "react";

const MyComponent = () => {
  const apiRef = useRef();
  const data = getData();

  const options = [
    {
      id: "add-task",
      text: "Add",
      icon: "wxi-plus",
      data: [{ id: "add-task:child", text: "Child task" }],
    },
    { type: "separator" },
    {
      id: "edit-task",
      text: "Edit",
      icon: "wxi-edit",
    },
    { id: "cut-task", text: "Cut", icon: "wxi-content-cut" },
  ];

  useEffect(() => {
    if (apiRef.current) {
      apiRef.current = apiRef.current;
    }
  }, [apiRef.current]);

  return (
    <ContextMenu api={apiRef.current} options={options}>
      <Gantt
        apiRef={apiRef}
        tasks={data.tasks}
        links={data.links}
        scales={data.scales}
      />
    </ContextMenu>
  );
};

export default MyComponent;
```

또한, 미리 만들어진 [`defaultMenuOptions`](https://docs.svar.dev/react/gantt/helpers/defaultMenuOptions) 배열을 가져와 필요한 매개변수를 수정한 후, 수정된 배열을 **ContextMenu**에 전달할 수 있습니다.

### 특정 작업에 대한 컨텍스트 메뉴 표시

[**ContextMenu**](https://docs.svar.dev/react/gantt/helpers/context_menu) 컴포넌트의 `resolver` 속성을 사용하여 메뉴를 표시할 작업을 정의할 수 있습니다.

아래 예제는 id가 2보다 큰 작업에만 컨텍스트 메뉴를 표시하는 방법을 보여줍니다.

```tsx
import { getData } from "../data";
import { Gantt, ContextMenu } from "wx-react-gantt";
import "wx-react-gantt/dist/gantt.css";
import { useRef } from "react";

const MyComponent = ({ skinSettings }) => {
  const data = getData();
  const apiRef = useRef();

  // show menu for certain tasks
  function resolver(id) {
    return id > 2;
  }

  return (
    <ContextMenu api={apiRef.current} resolver={resolver}>
      <Gantt
        apiRef={apiRef}
        tasks={data.tasks}
        links={data.links}
        scales={data.scales}
      />
    </ContextMenu>
  );
};

export default MyComponent;
```

### 필터링 메뉴 옵션

아래 예제에서는 "요약" 작업 유형의 "삭제" 메뉴 옵션을 숨깁니다:

```tsx
import { useRef } from "react";
import { getData } from "../data";
import { Gantt, ContextMenu } from "wx-react-gantt";
import "wx-react-gantt/dist/gantt.css";

const MyComponent = () => {
    const apiRef = useRef();
    const data = getData();

    const filterMenu = (option, task) => {
        const type = task.type;
        if (option.id === "delete-task" && type === "summary") return false;
        return true;
    };

    return (
        <ContextMenu api={apiRef.current} filter={filterMenu}>
            <Gantt
                apiRef={apiRef}
                tasks={data.tasks}
                links={data.links}
                scales={data.scales}
            />
        </ContextMenu>
    );
};

export default MyComponent;
```
