# RestDataProvider API 

## 개요 (Overview)

**React Gantt**는 백엔드(backend)에 대해 특정 요구사항을 강제하지 않습니다.  
즉, 어떤 백엔드 플랫폼이든 자유롭게 연결할 수 있습니다.

서버 측(backend)과의 통합을 더 쉽게 하기 위해,  
**RestDataProvider**라는 독립적인 서비스(ready-made service)를 제공합니다.

이 서비스는 Gantt와 RESTful API 서버 간의 데이터 송수신을 간단히 처리할 수 있게 해줍니다.  
이를 통해 **CRUD 작업(Create, Read, Update, Delete)** 을 쉽게 수행할 수 있습니다.

---

## 관련 문서 (See also)

- [About RestDataProvider](https://docs.svar.dev/react/gantt/guides/working_with_server)  
  → RestDataProvider의 개념 및 사용 이유에 대해 설명합니다.

- [Interacting with backend](https://docs.svar.dev/react/gantt/guides/working_with_server/#connecting-restdataprovider-to-the-backend)  
  → 백엔드 서버와 RestDataProvider를 연결하는 방법을 안내합니다.

- [REST methods](https://docs.svar.dev/react/gantt/api/overview/restmethods_overview)  
  → RestDataProvider가 지원하는 REST 메서드 목록을 제공합니다.

- [REST routes](https://docs.svar.dev/react/gantt/api/overview/restroutes_overview)  
  → REST 요청이 수행되는 엔드포인트 구조를 설명합니다.

---

# REST methods
|                                                                                    |                                                                                                                  |
| ---------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------- |
| [getData()](https://docs.svar.dev/react/gantt/helpers/rest_methods/getdata_method) | Gets a promise with an array of tasks and links objects                                                          |
| [send()](https://docs.svar.dev/react/gantt/helpers/rest_methods/send_method)       | Sends a necessary HTTP request to the server and returns a promise with or without data depending on the request |

## getData()

### 설명 (Description)

`getData()` 메서드는 **tasks**와 **links** 객체 배열을 포함한 Promise를 반환합니다.  
이 메서드는 **RestDataProvider** 서비스의 일부로, 서버와의 데이터 통신을 위해 사용됩니다.


### 사용법 (Usage)

```javascript
function getData() {
  return Promise.resolve([]);
}
```


### 응답 (Response)

`getData()` 메서드는 **HTTP GET** 요청을 서버에 전송하며,  
**tasks**와 **links** 데이터가 포함된 Promise를 반환합니다.

반환되는 객체 예시는 다음 문서를 참고하세요:  
- [tasks](https://docs.svar.dev/react/gantt/api/properties/tasks)  
- [links](https://docs.svar.dev/react/gantt/api/properties/links)


### 예시 (Examples)

```javascript
import { useState, useEffect, useRef } from "react";
import { Gantt } from "wx-react-gantt";
import "wx-react-gantt/dist/gantt.css";
import { RestDataProvider } from "wx-gantt-data-provider";

const GanttComponent = () => {
  const url = "https://some_backend_url";
  const server = new RestDataProvider(url);

  const [tasks, setTasks] = useState([]);
  const [links, setLinks] = useState([]);
  const apiRef = useRef();

  useEffect(() => {
    server.getData().then(data => {
      setTasks(data.tasks);
      setLinks(data.links);
    });
  }, []);

  return (
    <Gantt
      tasks={tasks}
      links={links}
      apiRef={apiRef}
    />
  );
};

export default GanttComponent;
```

---

## parseDates() 메서드

### 설명 (Description)

`getData()`는 내부적으로 `parseDates()` 메서드를 적용하여  
**tasks** 데이터의 `start`, `end`, `base_start`, `base_end` 값을 문자열에서 `Date` 객체로 변환합니다.  
(`new Date(string)` 형태로 변환)

### 기본 사용법 (Usage)

```javascript
const parseDates = (task) => task;
```

### 사용자 정의 (Custom Implementation)

날짜 파싱 방식을 변경하고 싶다면, 아래 예시처럼  
`RestDataProvider` 클래스를 상속받아 `parseDates()`를 재정의할 수 있습니다.

```javascript
class MyProvider extends RestDataProvider {
  parseDates(task) {
    // 원하는 날짜 파싱 로직 구현
    return task;
  }
}

const restProvider = new MyProvider(serverUrl);
```

---
## send()

### 설명  
`send()` 메서드는 서버로 필요한 HTTP 요청을 전송하고, 요청의 종류에 따라 데이터가 포함되거나 포함되지 않은 Promise 객체를 반환합니다.  
모든 서버 요청은 `send()` 메서드를 통해 수행되며, 이는 [`RestDataProvider`](https://docs.svar.dev/react/gantt/guides/working_with_server/#restdataprovider) 서비스의 일부입니다.


### 사용법  
```javascript
async function send(url, method, data = {}, headers = {}) {
  const response = await fetch(url, {
    method,
    headers: {
      'Content-Type': 'application/json',
      ...headers
    },
    body: JSON.stringify(data)
  });
  if (!response.ok) {
    throw new Error('Network response was not ok');
  }
  return await response.json();
}
```


### 매개변수 (Parameters)

| 이름 | 타입 | 설명 |
|------|------|------|
| `url` | string | **필수.** 요청을 전송할 서버 경로(URL) |
| `method` | string | **필수.** HTTP 요청 메서드 타입 (`GET`, `POST`, `PUT`, `DELETE`) |
| `data` | object | **선택.** 서버로 전송할 매개변수. 기본적으로 발생한 이벤트의 파라미터가 전송되지만, 사용자 정의 객체를 통해 추가 파라미터를 전송할 수 있습니다. |
| `headers` | object | **선택.** 기본 헤더는 `Content-Type: application/json`이며, 추가적인 헤더를 `customHeaders` 매개변수로 전달할 수 있습니다. |


### 응답 (Response)
`send()` 메서드는 요청 성공 시 **Promise 객체**를 반환합니다.  
요청이 실패할 경우 (`response.status == 500`), 에러 텍스트를 포함한 예외가 발생합니다.


### 예제 (Examples)

#### 1. 추가 헤더 포함하여 요청 보내기
```javascript
const customHeaders = {
  "Authorization": "Bearer",
  "Custom header": "some value",
};

api.intercept("add-task", obj => {
  restDataProvider.send("tasks", "POST", obj, customHeaders);
});
```

#### 2. RestDataProvider를 재정의하여 헤더 제어
```javascript
import { RestDataProvider } from "wx-gantt-data-provider";

class MyDataProvider extends RestDataProvider {
  send(url, method, data, headers) {
    headers = { ...headers, "SomeToken": "abc" };
    return super.send(url, method, data, headers);
  }
}

const server = new MyDataProvider("https://some_backend_url");
```


#### 3. `api.setNext()`와 함께 사용 (자동 요청 전송)
```javascript
import { RestDataProvider } from "wx-gantt-data-provider";
const server = new RestDataProvider("https://some_backend_url");

apiRef.current.intercept("update-task", data => {
  data.custom = "custom event";
});

apiRef.current.setNext(server);
```


#### 4. 임의의 엔드포인트에 직접 요청 보내기
```javascript
const customEndpoint = `projects/1`;
const params = { lastModified: Date.now() };

restProvider.send(customEndpoint, "PUT", params).then(data => {});
```

---

## formatDate() 메서드  

### 설명  
`send()` 메서드로 데이터를 전송할 때, `Date` 객체는 `"yyyy-MM-dd HH:mm:ss"` 형식의 문자열로 자동 변환됩니다.

### 기본 사용 예시  
```javascript
function formatDate(date) {
  return new Intl.DateTimeFormat('en-US').format(date);
}
```

### 커스텀 포맷 적용  
아래처럼 `RestDataProvider`를 확장하여 사용자 정의 날짜 포맷을 설정할 수 있습니다.

```javascript
class MyProvider extends RestDataProvider {
  formatDate(date) {
    const string = ...; // 날짜를 문자열로 변환하는 로직
    return string;
  }
}

const restProvider = new MyProvider(serverUrl);
```



---

# REST Routes

## 설명  
이 문서는 `Gantt` 구성요소에서 사용되는 **REST API Routes**(엔드포인트)에 대한 개요를 제공합니다.  
각 Route는 Gantt의 **Tasks** 및 **Links** 데이터를 가져오거나 수정, 삭제하는 데 사용됩니다.

---

## REST Routes 목록

| HTTP Method | Endpoint | 설명 |
|--------------|-----------|------|
| **DELETE** | `/links/{linkId}` | 특정 링크 데이터를 삭제합니다. |
| **DELETE** | `/tasks/{taskId}` | 특정 작업(Task) 데이터를 삭제합니다. |
| **GET** | `/links` | 전체 링크 데이터를 가져옵니다. |
| **GET** | `/links/{taskId}` | 특정 작업(Task)에 연결된 링크 데이터를 가져옵니다. |
| **GET** | `/tasks/{taskId}` | 특정 작업(Task)의 데이터를 가져옵니다. |
| **GET** | `/tasks` | 전체 작업(Task) 데이터를 가져옵니다. |
| **POST** | `/{batchURL}` | 여러 요청을 하나의 **Batch 요청**으로 묶어 전송합니다. |
| **POST** | `/links` | 새로운 링크를 생성합니다. |
| **POST** | `/tasks` | 새로운 작업(Task)을 생성합니다. |
| **PUT** | `/links/{linkId}` | 특정 링크의 데이터를 수정합니다. |
| **PUT** | `/tasks/{taskId}` | 특정 작업(Task)의 데이터를 수정하거나 복사, 이동합니다. |


## 참고  
이 REST Routes는 [`RestDataProvider`](https://docs.svar.dev/react/gantt/helpers/restdataprovider_api) 서비스에서 호출되며,  
`getData()`, `send()` 등의 메서드와 함께 사용됩니다.

---

## DELETE /links/{linkId}

### Description

Deletes data on a link

The route handles the HTTP DELETE request made to the `/links/{linkId}` path.

### Parameters

The following path parameters are sent in the request line:

- `linkId` (number) - (required) the id of a link to be deleted

### Payload

No payload is required.

### Response

The server returns an empty object.

The HTTP status code shows whether the request succeeds (response.status == 200) or fails (response.status == 500).


---

## DELETE /tasks/{taskId}

### Description

Deletes data on a task
The route handles the HTTP DELETE request made to the `/tasks/{taskId}` path.

### Parameters

The following path parameters are sent in the request line:
- `taskId` (number) - (required) the id of a task to be deleted

### Payload
No payload is required.

### Response
The server returns an empty object.
The HTTP status code shows whether the request succeeds (response.status == 200) or fails (response.status == 500).


---

## GET /links

### 설명 (Description)
이 엔드포인트는 `/links` 경로로 전달된 **HTTP GET 요청**을 처리하여 **링크 데이터(link data)** 를 가져옵니다.

---

### 요청 본문 (Payload)
이 요청은 **payload(본문 데이터)** 를 필요로 하지 않습니다.

---

### 응답 (Response)
서버는 링크 정보가 포함된 **JSON 배열(JSON array)** 을 반환합니다.

예시:
```json
[
  { "id": 9, "source": 60, "target": 61, "type": "e2s" },
  { "id": 10, "source": 48, "target": 49, "type": "s2s" },
  { "id": 11, "source": 54, "target": 56, "type": "e2s" },
  { "id": 12, "source": 56, "target": 58, "type": "s2s" },
  { "id": 13, "source": 49, "target": 50, "type": "e2s" },
  { "id": 14, "source": 56, "target": 57, "type": "s2s" },
  { "id": 15, "source": 53, "target": 54, "type": "s2s" },
  { "id": 16, "source": 64, "target": 65, "type": "e2s" }
]
```

---

### 상태 코드 (Status Code)
| 코드 | 설명 |
|------|------|
| `200` | 요청이 성공적으로 처리됨 |
| `500` | 서버 요청 처리 실패 |

---

### 관련 문서 (Related articles)
- [Working with server](https://docs.svar.dev/react/gantt/guides/working_with_server)  
- [DELETE /tasks/{taskId}](https://docs.svar.dev/react/gantt/helpers/rest_routes/delete_task)  
- [GET /links/{taskId}](https://docs.svar.dev/react/gantt/helpers/rest_routes/get_links_id)  



## GET /links/{taskId}

### 설명 (Description)
이 엔드포인트는 `/links/{taskId}` 경로로 전달된 **HTTP GET 요청**을 처리하며,  
특정 작업(Task)에 대한 **링크 데이터(link data)** 를 가져옵니다.

---

### 매개변수 (Parameters)
요청 경로에 포함되는 매개변수는 다음과 같습니다:

| 이름 | 타입 | 필수 여부 | 설명 |
|------|------|------------|------|
| `taskId` | number | ✅ | 링크 데이터를 요청할 작업(Task)의 ID |

---

### 요청 본문 (Payload)
이 요청은 **payload(본문 데이터)** 를 필요로 하지 않습니다.

---

### 응답 (Response)
서버는 요청된 `taskId`와 관련된 링크 데이터를 포함한 **JSON 배열(JSON array)** 을 반환합니다.

예시:
```json
[
  { "id": 9, "source": 60, "target": 61, "type": "e2s" },
  { "id": 10, "source": 48, "target": 49, "type": "s2s" },
  { "id": 11, "source": 54, "target": 56, "type": "e2s" },
  { "id": 12, "source": 56, "target": 58, "type": "s2s" },
  { "id": 13, "source": 49, "target": 50, "type": "e2s" },
  { "id": 14, "source": 56, "target": 57, "type": "s2s" },
  { "id": 15, "source": 53, "target": 54, "type": "s2s" },
  { "id": 16, "source": 64, "target": 65, "type": "e2s" }
]
```

---

### 상태 코드 (Status Code)
| 코드 | 설명 |
|------|------|
| `200` | 요청이 성공적으로 처리됨 |
| `500` | 서버 요청 처리 실패 |

---

### 관련 문서 (Related articles)
- [Working with server](https://docs.svar.dev/react/gantt/guides/working_with_server)  
- [GET /links](https://docs.svar.dev/react/gantt/helpers/rest_routes/get_links)  
- [GET /tasks](https://docs.svar.dev/react/gantt/helpers/rest_routes/get_tasks)  



## GET /tasks

### 설명 (Description)
이 엔드포인트는 `/tasks` 경로로 전달된 **HTTP GET 요청**을 처리하며,  
**작업(Task) 데이터**를 가져옵니다.

---

### 요청 본문 (Payload)
이 요청은 **payload(본문 데이터)** 를 필요로 하지 않습니다.

---

### 응답 (Response)
서버는 모든 작업(Task)에 대한 데이터를 포함한 **JSON 배열(JSON array)** 을 반환합니다.

예시:
```json
[
  {
    "id": 20,
    "text": "New Task",
    "start": "2024-06-21 00:00:00",
    "end": "2024-06-22 00:00:00",
    "duration": 1,
    "progress": 2,
    "parent": 0,
    "type": "task",
    "lazy": false
  },
  {
    "id": 47,
    "text": "[1] Master project",
    "start": "2024-06-10 00:00:00",
    "end": "2024-06-18 00:00:00",
    "duration": 8,
    "progress": 0,
    "parent": 0,
    "type": "summary",
    "lazy": true
  },
  {
    "id": 21,
    "text": "New Task",
    "start": "2024-06-13 00:00:00",
    "end": "2024-06-14 00:00:00",
    "duration": 1,
    "progress": 0,
    "parent": 20,
    "type": "task",
    "lazy": false
  }
]
```

---

### 상태 코드 (Status Code)
| 코드 | 설명 |
|------|------|
| `200` | 요청이 성공적으로 처리됨 |
| `500` | 서버 요청 처리 실패 |

---

### 관련 문서 (Related articles)
- [Working with server](https://docs.svar.dev/react/gantt/guides/working_with_server)  
- [GET /links/{taskId}](https://docs.svar.dev/react/gantt/helpers/rest_routes/get_links_id)  
- [POST /links](https://docs.svar.dev/react/gantt/helpers/rest_routes/post_links)  








## POST /links

### 설명 (Description)

이 엔드포인트는 **새로운 link**를 생성하기 위한 REST API 경로입니다.  
`/links` 경로로 **HTTP POST 요청**을 보낼 때 사용됩니다.

---

### 요청 본문 (Payload)

서버는 새 링크 데이터를 포함한 **JSON 객체**를 요청 본문으로 받아야 합니다.  
자세한 속성 설명은 다음 문서를 참조하세요:  
👉 [links](https://docs.svar.dev/react/gantt/api/properties/links)

```json
{
  "id": "temp://1710929724740",
  "source": 69,
  "target": 70,
  "type": "s2s"
}
```

---

### 응답 (Response)

서버는 생성된 링크의 **고유 ID**를 포함하는 JSON 객체를 반환합니다.

#### 예시 응답 (Example Response)

```json
{
  "id": 17
}
```

HTTP 응답 상태 코드는 요청의 성공 또는 실패 여부를 나타냅니다.

| 상태 코드 | 의미 |
|------------|------|
| `200` | 요청이 성공적으로 처리됨 |
| `500` | 서버 오류로 인해 요청 실패 |

---

### 관련 문서 (Related articles)

- [Working with server](https://docs.svar.dev/react/gantt/guides/working_with_server)
- [GET /tasks](https://docs.svar.dev/react/gantt/helpers/rest_routes/get_tasks)
- [POST /tasks](https://docs.svar.dev/react/gantt/helpers/rest_routes/post_tasks)



## POST /tasks

### 설명 (Description)

이 엔드포인트는 **새로운 task**를 생성하기 위한 REST API 경로입니다.  
`/tasks` 경로로 **HTTP POST 요청**을 보낼 때 사용됩니다.

---

### 요청 본문 (Payload)

서버는 새 작업(task)의 데이터를 포함한 **JSON 객체**를 요청 본문으로 받아야 합니다.  
자세한 속성 설명은 다음 문서를 참조하세요:  
👉 [tasks](https://docs.svar.dev/react/gantt/api/properties/tasks)

```json
{
  "text": "New Task",
  "parent": 20,
  "start": "2024-06-21 00:00:00",
  "duration": 1,
  "end": "2024-06-22 00:00:00",
  "id": "temp://1710851071459",
  "progress": 0,
  "type": "task",
  "details": ""
}
```

> 💡 `details` 필드는 Task Editor의 설명(description) 필드입니다.

---

### 응답 (Response)

서버는 새로 생성된 **task ID**를 포함하는 JSON 객체를 반환합니다.

#### 예시 응답 (Example Response)

```json
{
  "id": 13
}
```

HTTP 응답 상태 코드는 요청의 성공 또는 실패 여부를 나타냅니다.

| 상태 코드 | 의미 |
|------------|------|
| `200` | 요청이 성공적으로 처리됨 |
| `500` | 서버 오류로 인해 요청 실패 |

---

### 관련 문서 (Related articles)

- [Working with server](https://docs.svar.dev/react/gantt/guides/working_with_server)
- [POST /links](https://docs.svar.dev/react/gantt/helpers/rest_routes/post_links)
- [POST /{batchURL}](https://docs.svar.dev/react/gantt/helpers/rest_routes/post_batch)

---

© XB Software Sp. z o.o. 2024  
ul. DOMANIEWSKA, 17/19, lok. 133  
Warsaw, 02-672, Poland  
모든 제품 및 회사명은 해당 소유자의 상표일 수 있습니다.



## POST /{batchURL}

### 설명 (Description)

이 엔드포인트는 여러 개의 **REST API 요청을 하나의 배치(batch) 요청으로 묶어 전송**할 수 있도록 합니다.  
`RestDataProvider`는 **batching 기능**을 지원하여 여러 API 호출을 하나의 HTTP 요청으로 처리할 수 있습니다.  
배치 모드 활성화 방법은 다음 문서를 참고하세요:  
👉 [Enabling the batch mode](https://docs.svar.dev/react/gantt/guides/working_with_server#enabling-the-batch-mode)

---

### 파라미터 (Parameters)

이 라우트는 `/ {batchURL}` 경로로 전송되는 **HTTP POST 요청**을 처리합니다.  
예시:  
`POST https://master--svar-gantt-go--dev.project.io/batch`

---

### 요청 본문 (Payload)

서버는 각 요청의 데이터를 담은 **JSON 배열(JSON array)** 을 받아야 합니다.

```json
[
  {
    "data": {...},
    "method": "PUT" | "POST" | "DELETE",
    "url": "path"
  }
]
```

| 속성 | 설명 |
|------|------|
| `data` | 개별 요청의 데이터 |
| `method` | 해당 요청에 적용할 REST 메서드 (`PUT`, `POST`, `DELETE`) |
| `url` | 요청의 상대 경로 (서버 이름 제외) |

#### 예시 요청 (Example Request)

```json
[
  {
    "data": {
      "text": "New Task",
      "parent": 20,
      "start": "2024-06-21 00:00:00",
      "duration": 1,
      "end": "2024-06-22 00:00:00",
      "id": "temp://1710851071459",
      "progress": 0,
      "type": "task"
    },
    "method": "POST",
    "url": "tasks"
  },
  {
    "data": {
      "id": "temp://1710929724740",
      "source": 69,
      "target": 70,
      "type": "s2s"
    },
    "method": "POST",
    "url": "links"
  }
]
```

---

### 응답 (Response)

서버는 각 개별 요청에 대한 응답을 포함하는 **JSON 배열(JSON array)** 을 반환합니다.  
배열의 순서는 요청 배열의 순서와 동일하게 유지됩니다.

#### 예시 응답 (Example Response)

```json
[{"id":13},{"id":17}]
```

HTTP 응답 상태 코드는 요청의 성공 또는 실패 여부를 나타냅니다.

| 상태 코드 | 의미 |
|------------|------|
| `200` | 요청이 성공적으로 처리됨 |
| `500` | 서버 오류로 인해 요청 실패 |

---

### 관련 문서 (Related articles)

- [Working with server](https://docs.svar.dev/react/gantt/guides/working_with_server)
- [POST /tasks](https://docs.svar.dev/react/gantt/helpers/rest_routes/post_tasks)
- [PUT /links/{linkId}](https://docs.svar.dev/react/gantt/helpers/rest_routes/put_links)


## PUT /links/{linkId}

### 설명 (Description)
이 엔드포인트는 `/links/{linkId}` 경로로 전달된 **HTTP PUT 요청**을 처리하여  
특정 링크(Link)의 데이터를 수정합니다.

---

### 매개변수 (Parameters)
| 이름 | 타입 | 필수 여부 | 설명 |
|------|------|------------|------|
| `linkId` | number | ✅ | 업데이트할 링크의 ID |

---

### 요청 본문 (Payload)
서버는 **링크의 전체 필드**(기존 및 수정된 데이터 포함)를 가진 **JSON 객체(JSON object)** 를 필요로 합니다.

예시:
```json
{
  "id": 17,
  "source": 69,
  "target": 70,
  "type": "e2e"
}
```

---

### 응답 (Response)
서버는 업데이트된 링크의 `id`를 포함한 **JSON 객체**를 반환합니다.

예시:
```json
{
  "id": 1
}
```

---

### 상태 코드 (Status Code)
| 코드 | 설명 |
|------|------|
| `200` | 요청이 성공적으로 처리됨 |
| `500` | 서버 요청 처리 실패 |

---

### 관련 문서 (Related articles)
- [Working with server](https://docs.svar.dev/react/gantt/guides/working_with_server)  
- [POST /{batchURL}](https://docs.svar.dev/react/gantt/helpers/rest_routes/post_batch)  
- [PUT /tasks/{taskId}](https://docs.svar.dev/react/gantt/helpers/rest_routes/put_tasks)  



## PUT /tasks/{taskId}

### 설명 (Description)

이 엔드포인트는 **task 데이터를 업데이트(update)**, **복사(copy)**, 또는 **이동(move)** 하기 위한 REST API 경로입니다.  
`/tasks/{taskId}` 경로로 **HTTP PUT 요청**을 보낼 때 사용됩니다.

---

### 파라미터 (Parameters)

| 이름 | 타입 | 필수 여부 | 설명 |
|------|------|------------|------|
| `taskId` | number | ✅ 필수 | 업데이트, 복사 또는 이동할 task의 고유 ID |

---

### 요청 본문 (Payload)

#### Update 작업용 Payload

서버는 task의 **모든 필드(기존 및 수정된 데이터 포함)** 를 담은 **JSON 객체**를 받아야 합니다.  
자세한 필드 설명은 다음 문서를 참조하세요:  
👉 [tasks](https://docs.svar.dev/react/gantt/api/properties/tasks)

```json
{
  "id": 67,
  "text": "New Task",
  "start": "2024-06-10 00:00:00",
  "end": "2024-06-11 00:00:00",
  "duration": 1,
  "progress": 0,
  "parent": 0,
  "type": "task",
  "lazy": false,
  "details": " "
}
```

> 💡 `details`는 Task Editor의 설명(description) 필드입니다.

---

#### Move 작업용 Payload

서버는 다음 필드들을 포함한 **JSON 객체**를 받아야 합니다.

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| `operation` | string | ✅ | `"move"` 값이어야 함 |
| `target` | string or number | ✅ | 현재 task를 이동할 기준 task의 ID |
| `mode` | string | ✅ | 이동 위치를 지정 (`before`, `after`, `up`, `down`, `child`) |

```json
{
  "operation": "move",
  "target": 20,
  "mode": "after"
}
```

---

#### Copy 작업용 Payload

서버는 다음 필드들을 포함한 **JSON 객체**를 받아야 합니다.

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| `operation` | string | ✅ | `"copy"` 값이어야 함 |
| `target` | number | ✅ | 복사 대상 task ID |
| `mode` | string | ✅ | 복사 위치 (`after` 또는 `before`) |
| `lazy` | boolean | 선택 | 하위 task를 백엔드에서 복사해야 하는지 여부 |

```json
{
  "operation": "copy",
  "target": 20,
  "mode": "after"
}
```

---

### 응답 (Response)

각 작업 유형에 따라 서버 응답이 다릅니다.

#### Update 작업 응답
```json
{ "id": 23 }
```

#### Move 작업 응답
```json
{ "id": 34 }
```

#### Copy 작업 응답
```json
{ "id": 67 }
```

---

### 상태 코드 (HTTP Status)

| 코드 | 설명 |
|------|------|
| `200` | 요청이 성공적으로 처리됨 |
| `500` | 서버 오류 (에러 메시지 포함) |

---

### 관련 문서 (Related articles)

- [Working with server](https://docs.svar.dev/react/gantt/guides/working_with_server)
- [PUT /links/{linkId}](https://docs.svar.dev/react/gantt/helpers/rest_routes/put_links)
- [Components](https://docs.svar.dev/react/gantt/category/components)

---

